<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construct a request to the Entrez API — entrez_request • jentre</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct a request to the Entrez API — entrez_request"><meta name="description" content="This is a low-level helper that builds a request object but does not
perform the request. In general you'll likely use higher-level methods
like efetch() instead."><meta property="og:description" content="This is a low-level helper that builds a request object but does not
perform the request. In general you'll likely use higher-level methods
like efetch() instead."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">jentre</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cidm-ph/jentre/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Construct a request to the Entrez API</h1>
      <small class="dont-index">Source: <a href="https://github.com/cidm-ph/jentre/blob/main/R/request.R" class="external-link"><code>R/request.R</code></a></small>
      <div class="d-none name"><code>entrez_request.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a low-level helper that builds a request object but does not
perform the request. In general you'll likely use higher-level methods
like <code><a href="efetch.html">efetch()</a></code> instead.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">entrez_request</span><span class="op">(</span></span>
<span>  <span class="va">endpoint</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .method <span class="op">=</span> <span class="st">"GET"</span>,</span>
<span>  .multi <span class="op">=</span> <span class="st">"comma"</span>,</span>
<span>  .cookies <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jentre.verbose"</span>, default <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  .call <span class="op">=</span> <span class="fu">current_env</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">entrez_api_key</span><span class="op">(</span>default <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-endpoint">endpoint<a class="anchor" aria-label="anchor" href="#arg-endpoint"></a></dt>
<dd><p>Entrez endpoint name (e.g. <code>"efetch.fcgi"</code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional API parameters (refer to Entrez documentation).
Any set to <code>NULL</code> are removed.</p></dd>


<dt id="arg--method">.method<a class="anchor" aria-label="anchor" href="#arg--method"></a></dt>
<dd><p>HTTP verb.
For <code>"POST"</code>, any params with vector values (usually just <code>id</code>) are sent in the
request body instead of the URL.</p></dd>


<dt id="arg--multi">.multi<a class="anchor" aria-label="anchor" href="#arg--multi"></a></dt>
<dd><p>controls how repeated params are handled (see <code><a href="https://httr2.r-lib.org/reference/req_url.html" class="external-link">httr2::req_url_query()</a></code>).</p></dd>


<dt id="arg--cookies">.cookies<a class="anchor" aria-label="anchor" href="#arg--cookies"></a></dt>
<dd><p>path to persist cookies.
If <code>NULL</code>, cookies are not added to the request.
For helper functions: when <code>NA</code>, a temporary file is created (in this case only,
the temporary file will be cleaned up once all requests are performed).</p></dd>


<dt id="arg--verbose">.verbose<a class="anchor" aria-label="anchor" href="#arg--verbose"></a></dt>
<dd><p>logical: when TRUE logs all API requests as messages in a compact format.
This uses a summarised format that does not include the request body for POST.
Use normal httr verbosity controls (e.g. <code><a href="https://httr2.r-lib.org/reference/with_verbosity.html" class="external-link">httr2::local_verbosity()</a></code>) to override
this behaviour and see more details.</p></dd>


<dt id="arg--call">.call<a class="anchor" aria-label="anchor" href="#arg--call"></a></dt>
<dd><p>call environment to use in error messages/traces.
See <a href="https://rlang.r-lib.org/reference/topic-error-call.html" class="external-link">rlang::topic-error-call</a> and the <code>call</code> argument of <code><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli::cli_abort()</a></code>.
You only need to specify this in internal helper functions that don't need to be
mentioned in error messages.</p></dd>


<dt id="arg-default">default<a class="anchor" aria-label="anchor" href="#arg-default"></a></dt>
<dd><p>default value to return if no global configuration is found.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>

<ul><li><p>for <code>entrez_request()</code> an <code><a href="https://httr2.r-lib.org/reference/request.html" class="external-link">httr2::request</a></code> object.</p></li>
<li><p>for <code>entrez_api_key()</code>, the API key as a character, or <code>default</code> if no global config exists.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>email</code>, <code>tool</code>, and <code>api_key</code> have default values but these can be
overridden, or can be removed by setting them to <code>NULL</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="api-limits">API limits<a class="anchor" aria-label="anchor" href="#api-limits"></a></h2>


<p>The Entrez APIs are rate limited.
Requests in this package respect the API headers returned by Entrez.
Without an API key you will be rate limited more aggressively, so it is
recommended to <a href="https://support.nlm.nih.gov/kbArticle/?pn=KA-05317" class="external-link">obtain an API key</a>.
<code>jentre</code> searches for the API key in the following order:</p><ul><li><p>the API parameter <code>entrez_key</code> provided to any API request function,</p></li>
<li><p>the <a href="https://rdrr.io/r/base/options.html" class="external-link">option</a> <code>"jentre.api_key"</code>, then</p></li>
<li><p>the environment variable <code>ENTREZ_KEY</code>.</p></li>
</ul><p>You can check the value is found properly using <code>entrez_api_key()</code>.
If no API key is set, a warning will be displayed. This can be suppressed
by setting the option <code>"jentre.silence_api_warning"</code> to <code>TRUE</code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Carl Suster.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

